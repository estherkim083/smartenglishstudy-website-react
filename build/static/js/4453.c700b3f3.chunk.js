"use strict";(self.webpackChunkreact_english_website=self.webpackChunkreact_english_website||[]).push([[4453],{14453:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var a=n(29439),i=n(72791),l=n(79579),o=n(38596),c=n(1288),r=n(23364),s=n(67025),u=n(28030),d=n(58886),g=n(54789),h=n(21348),p=n(38317),f=n(81694),m=n.n(f),j=n(66556),x=n(46593),Z=n(17631),y=n(9773),k=n(43486),S=n(87023),b=n(5932),w=n(82159),C=n(28931),v=n(80184),P=(0,o.Z)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function _(e){var t=P(),n=(0,r.Z)(),a=e.count,i=e.page,l=e.rowsPerPage,o=e.onPageChange;return(0,v.jsxs)("div",{className:t.root,children:[(0,v.jsx)(s.Z,{onClick:function(e){o(e,0)},disabled:0===i,"aria-label":"first page",children:"rtl"===n.direction?(0,v.jsx)(h.Z,{}):(0,v.jsx)(u.Z,{})}),(0,v.jsx)(s.Z,{onClick:function(e){o(e,i-1)},disabled:0===i,"aria-label":"previous page",children:"rtl"===n.direction?(0,v.jsx)(g.Z,{}):(0,v.jsx)(d.Z,{})}),(0,v.jsx)(s.Z,{onClick:function(e){o(e,i+1)},disabled:i>=Math.ceil(a/l)-1,"aria-label":"next page",children:"rtl"===n.direction?(0,v.jsx)(d.Z,{}):(0,v.jsx)(g.Z,{})}),(0,v.jsx)(s.Z,{onClick:function(e){o(e,Math.max(0,Math.ceil(a/l)-1))},disabled:i>=Math.ceil(a/l)-1,"aria-label":"last page",children:"rtl"===n.direction?(0,v.jsx)(u.Z,{}):(0,v.jsx)(h.Z,{})})]})}var N=(0,p.Z)(b.Z)((function(e){var t=e.classes,n=e.datas,l=i.useState(5),o=(0,a.Z)(l,2),c=o[0],r=o[1],s=i.useState(0),u=(0,a.Z)(s,2),d=u[0],g=u[1],h=(0,i.useState)(!1),p=(0,a.Z)(h,2),f=p[0],b=p[1],P=(0,i.useState)(!1),N=(0,a.Z)(P,2),R=(N[0],N[1]),I=(0,C.useParams)().id,T=null!=n?c-Math.min(c,n.length-d*c):-1,O=(0,C.useHistory)();(0,i.useEffect)((function(){b(!0)})),(0,i.useEffect)((function(){f&&R(!0),console.log(n)}),[f]);var M=function(e,t){O.push("/writing/essay/"+I+"/"+e+"/"+t.email)};return(0,v.jsx)("div",{className:t.rootTable,children:(0,v.jsxs)(j.Z,{className:m()(t.table,t.bordered,t.hover),children:[(0,v.jsx)(y.Z,{children:(0,v.jsxs)(k.Z,{children:[(0,v.jsx)(Z.Z,{width:130,className:t.cellTitleStyle,children:"\uc774\ub984\xa0\xa0\u2618"}),(0,v.jsx)(Z.Z,{width:150,align:"right",className:t.cellTitleStyle,children:"\ubc29\ucc38\uc5ec\ub0a0\uc9dc"}),(0,v.jsx)(Z.Z,{width:150,align:"right",className:t.cellTitleStyle,children:"\uc218\uc815\ub0a0\uc9dc"}),(0,v.jsx)(Z.Z,{width:430,align:"center",className:t.cellTitleStyle,children:"\uc5d0\uc138\uc774\uc81c\ubaa9"})]})}),(0,v.jsxs)(x.Z,{children:[null!=n&&(c>0?Object.entries(n).slice(d*c,d*c+c):Object.entries(n)).map((function(e){var n=(0,a.Z)(e,2),i=n[0],l=n[1];return(0,v.jsxs)(k.Z,{children:[(0,v.jsx)(Z.Z,{padding:"default",className:t.cellRegularStyle,onClick:function(){return M(i,l)},children:l.user_name}),(0,v.jsx)(Z.Z,{align:"right",className:t.cellRegularStyle,onClick:function(){return M(i,l)},children:l.participated_at}),(0,v.jsx)(Z.Z,{align:"right",className:t.cellRegularStyle,onClick:function(){return M(i,l)},children:l.modified_at}),(0,v.jsx)(Z.Z,{align:"center",className:t.cellRegularStyle,onClick:function(){return M(i,l)},children:l.topic})]},i)})),T>0&&(0,v.jsx)(k.Z,{style:{height:0*T},children:(0,v.jsx)(Z.Z,{colSpan:6,className:t.cellRegularStyle,children:". . . . ."})})]}),(0,v.jsx)(S.Z,{children:(0,v.jsx)(k.Z,{children:null!=n&&void 0!=n&&(0,v.jsx)(w.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:Object.keys(n).length,rowsPerPage:c,page:d,SelectProps:{inputProps:{"aria-label":"\ud398\uc774\uc9c0\ub2f9 \uba87\uac1c"},native:!0},onPageChange:function(e,t){g(t)},onRowsPerPageChange:function(e){r(parseInt(e.target.value,10)),g(0)},ActionsComponent:_,labelRowsPerPage:"\ud398\uc774\uc9c0\ub2f9 \uba87\uac1c",labelDisplayedRows:function(e){var t=e.from,n=e.to,a=e.count;return"\uc804\uccb4 ".concat(-1!==a?a:"MORE THAN ".concat(n),"\uac1c, ").concat(t,"-").concat(n)}})})})]})})})),R=n(74569),I=n.n(R),T=n(38956),O=n(55121),M=n(47788),z=n(38302),A=n(97595),E=n(26513),B=n(72741),F=(0,o.Z)((function(e){return{joinButton:{backgroundColor:"dark"===e.palette.type?e.palette.primary.dark:e.palette.primary.main,color:(e.palette.type,e.palette.common.white),width:"8%",fontFamily:"CookieRun-Regular",fontSize:"15px",marginTop:"30px","&:hover":{backgroundColor:"dark"===e.palette.type?e.palette.primary.main:e.palette.primary.dark}}}}));var H=function(e){var t=F(),n=(0,C.useParams)().id,o=(0,i.useState)(!1),r=(0,a.Z)(o,2),s=r[0],u=r[1],d=(0,i.useState)(!1),g=(0,a.Z)(d,2),h=g[0],p=g[1],f=(0,i.useState)({}),m=(0,a.Z)(f,2),j=m[0],x=m[1],Z="https://english-1.azurewebsites.net/",y=(0,i.useState)(null),k=(0,a.Z)(y,2),S=k[0],b=k[1],w=(0,i.useCallback)((function(e){b(S!==e&&e)}),[S]);return(0,i.useEffect)((function(){null===localStorage.getItem("user_name")&&(window.location.href="/auth/email"),localStorage.getItem("MyProfileOnce")&&localStorage.removeItem("MyProfileOnce"),localStorage.getItem("ChatMessageOnce")&&localStorage.removeItem("ChatMessageOnce"),u(!0)})),(0,i.useEffect)((function(){s&&I().get(Z+"writing/get-essay-room-data/"+n,{headers:{Authorization:localStorage.getItem("token")?"Token "+localStorage.getItem("token"):null,"Content-Type":"application/json",accept:"application/json"}}).then((function(e){x(e.data),console.log(e.data),p(!0)})).catch((function(e){}))}),[s]),h?(0,v.jsx)("div",{children:(0,v.jsx)(l.Z,{title:"EssayWriting Menu",whiteBg:!0,icon:"ion-ios-grid-outline",desc:"\r \uc601\uc5b4\uc5d0\uc138\uc774 \uae00\uc4f0\uae30 \ubc29 \ud654\uba74\uc785\ub2c8\ub2e4. \uc5d0\uc138\uc774\ub97c \uc9c1\uc811 \uc791\uc131\ud558\uace0 \uacf5\uc720\ud574\ubcf4\uc138\uc694. ",children:(0,v.jsx)(c.Z,{container:!0,alignItems:"flex-start",justify:"center",direction:"row",style:{padding:"80px",marginTop:"-100px"},spacing:2,children:null!=j&&void 0!=j&&0!=Object.keys(j).length&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.Z,{item:!0,md:12,children:[console.log(j),(0,v.jsxs)(T.Z,{expanded:"panel1"===S,onChange:function(){return w("panel1")},children:[(0,v.jsx)(M.Z,{expandIcon:(0,v.jsx)(A.Z,{}),children:(0,v.jsx)(z.Z,{style:{fontSize:"20px",fontWeight:"bold",fontFamily:"CookieRun-Regular"},children:0!=Object.keys(j.room_info.topic).length?j.room_info.topic:""})}),(0,v.jsx)(O.Z,{children:(0,v.jsx)(z.Z,{style:{fontFamily:"CookieRun-Regular"},children:0!=Object.keys(j.room_info.about_content).length?j.room_info.about_content:""})})]})]}),(0,v.jsx)(c.Z,{item:!0,md:12,children:(0,v.jsx)(N,{datas:0!=Object.keys(j.essays_info)?j.essays_info:null})}),0==j.room_info.participating?(0,v.jsx)(c.Z,{item:!0,md:12,children:(0,v.jsx)(E.Z,{className:t.joinButton,onClick:function(){I().post(Z+"writing/join-essay-room/"+n,{},{headers:{Authorization:localStorage.getItem("token")?"Token "+localStorage.getItem("token"):null,"Content-Type":"application/json",accept:"application/json"}}).catch((function(e){})).then((function(e){console.log(e),window.location.href="/writing/essay/"+n}))},children:"\ubc29 \ucc38\uc5ec\ud558\uae30"})}):(0,v.jsx)(c.Z,{item:!0,md:12,children:(0,v.jsx)(E.Z,{className:t.joinButton,onClick:function(){I().post(Z+"writing/unjoin-essay-room/"+n,{},{headers:{Authorization:localStorage.getItem("token")?"Token "+localStorage.getItem("token"):null,"Content-Type":"application/json",accept:"application/json"}}).catch((function(e){})).then((function(e){console.log(e),window.location.href="/writing/essay/"+n}))},children:"\ubc29 \ud0c8\ud1f4\ud558\uae30"})})]})})})}):(0,v.jsx)(B.Z,{})}}}]);
//# sourceMappingURL=4453.c700b3f3.chunk.js.map